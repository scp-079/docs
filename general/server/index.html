<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="介绍应对服务器所做的基础设置"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="服务器设置"><meta property="og:description" content="介绍应对服务器所做的基础设置"><meta property="og:type" content="article"><meta property="og:url" content="https://docs.scp-079.org/general/server/"><meta property="article:modified_time" content="2020-06-26T09:26:40+00:00"><title>服务器设置 | 自建文档</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.b3215d9d1d18d9051e7fbe8f256ff80e30f41d29073b86348e230d297b771002.css integrity="sha256-syFdnR0Y2QUef76PJW/4DjD0HSkHO4Y0jiMNKXt3EAI="><link rel=stylesheet href=/css/custom.css><script defer src=/en.search.min.4dbfede87f05e4050467f7d4cda6a7b5f939dc7ed1bbe4524ad0f6d5194f5192.js integrity="sha256-Tb/t6H8F5AUEZ/fUzaantfk53H7Ru+RSStD21RlPUZI="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>自建文档</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/general/>通用步骤</a><ul><li><a href=/general/create/ class=collapsed>创建内容</a></li><li><a href=/general/server/ class=active>服务器设置</a></li><li><a href=/general/build/>开始搭建</a></li><li><a href=/general/maintain/>日常维护</a></li><li><a href=/general/migration/>备份与迁移</a></li></ul></li><li class=book-section-flat><a href=/bots/ class=collapsed>机器人配置</a></li></ul><ul><li><a href=https://scp-079.org/readme/ target=_blank rel=noopener>官方 Demo 服务</a></li><li><a href=https://scp-079.org/list/ target=_blank rel=noopener>第三方服务列表</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>服务器设置</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#服务器设置>服务器设置</a><ul><li><a href=#配置环境>配置环境</a></li><li><a href=#切换用户>切换用户</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=服务器设置>服务器设置
<a class=anchor href=#%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%ae%be%e7%bd%ae>#</a></h1><p>我们建议自建用户使用完整的 <code>Debian 10</code> 或 <code>Ubuntu 20.04</code> 系统来搭建服务。本节所描述的步骤均在此二者上测试通过，且本节提供的脚本仅支持基于 <code>Debian</code> 的系统。所有机器人都只能在 Python 3.6 及以上版本中运行。</p><blockquote class="book-hint danger"><p><strong>注意</strong></p><ol><li>如您不熟悉 Linux 下的操作，请勿使用其他系统。</li><li>若您使用了 Docker，请确保容器内可通过终端使用 <code>systemd</code>，确保 <code>systemctl</code>、<code>loginctl</code> 命令可被正确执行。<br><br></li></ol></blockquote><hr><h2 id=配置环境>配置环境
<a class=anchor href=#%e9%85%8d%e7%bd%ae%e7%8e%af%e5%a2%83>#</a></h2><p>请以 <code>root</code> 用户执行以下命令：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>apt update <span style=color:#f92672>&amp;&amp;</span> apt install curl -y
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>bash &lt;<span style=color:#f92672>(</span>curl -s https://raw.githubusercontent.com/scp-079/scripts/master/root.sh<span style=color:#f92672>)</span>
</code></pre></div><blockquote class="book-hint info"><p><strong>提示</strong></p><ol><li>此脚本将提示您为创建的新用户 <code>scp</code> 指定一个密码，请设置较强壮的密码。</li><li>执行此脚本后，系统的时区将被调整为 UTC，我们建议用户使用 UTC 时区，并且请在进行有关时间点的配置时，考虑到系统的时区、时间点的配置，对服务所面向的主要群体的影响。<br><br></li></ol></blockquote><hr><h2 id=切换用户>切换用户
<a class=anchor href=#%e5%88%87%e6%8d%a2%e7%94%a8%e6%88%b7>#</a></h2><p>脚本运行结束后，请切换至 <code>scp</code> 用户，以便进行「开始搭建」一节中所描述的操作。您可以使用 <code>su</code> 命令来切换至 <code>scp</code> 用户，也可以使用 <code>ssh</code> 工具登录到 <code>scp</code> 用户上。具体操作方法如下：</p><div class=book-tabs><input type=radio class=hidden name=tabs-uniqueid id=tabs-uniqueid-0 checked>
<label for=tabs-uniqueid-0>su</label><div class="book-tabs-content markdown-inner"><h3 id=使用-su-命令>使用 su 命令</h3><p>仍在 <code>root</code> 用户下执行：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>su - scp
</code></pre></div></div><input type=radio class=hidden name=tabs-uniqueid id=tabs-uniqueid-1>
<label for=tabs-uniqueid-1>ssh</label><div class="book-tabs-content markdown-inner"><h3 id=使用-ssh-登录>使用 ssh 登录</h3><p>退出 <code>root</code> 用户的登录会话后，重新登录至 <code>scp</code> 用户：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ssh scp@your_server
</code></pre></div></div></div><hr><p>至此，对服务器的配置已进行完毕。</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/scp-079/docs/commit/4dbc53fa5a06f6183823d49bdfd3a98fbd699623 title="Last modified by Xiao | June 26, 2020" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 26, 2020</span></a></div><div><a class="flex align-center" href=https://github.com/scp-079/docs/edit/master/content//general/server.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>function targetBlank(){var internal=location.host.replace("www.","");var a=document.getElementsByTagName('a');for(var i=0;i<a.length;i++){var the_host=a[i].host.replace("www.","");if(the_host!=internal){a[i].setAttribute('target','_blank');}}};targetBlank();</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#服务器设置>服务器设置</a><ul><li><a href=#配置环境>配置环境</a></li><li><a href=#切换用户>切换用户</a></li></ul></li></ul></nav></aside></main></body></html>